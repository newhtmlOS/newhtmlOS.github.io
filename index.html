<!doctype html>
<html>
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>htmlOS Loader</title>
<style>
body{
  background:#0b1220;
  color:#e6eef8;
  font-family:system-ui,Segoe UI,Roboto;
  padding:20px;
}
#log{white-space:pre-line;opacity:.7;margin-top:12px}
</style>
</head>

<body>
<h2>htmlOS Loader</h2>
<p>Preparando ambiente…</p>
<pre id="log">Iniciando…</pre>

<script>
(async()=>{

  const log = document.getElementById("log");
  const L = t => log.textContent += "\n" + t;

  const partes = ["parte1.html","parte2.html","parte3.html","parte4.html"];

  try{
    L("Carregando partes…");

    const textos = await Promise.all(
      partes.map(async p=>{
        L("→ " + p);
        const r = await fetch(p);
        if(!r.ok) throw new Error("Falhou: " + p);
        return await r.text();
      })
    );

    L("Criando index virtual…");
    const final = textos.join("\n");

    const blob = new Blob([final], {type:"text/html"});
    const url  = URL.createObjectURL(blob);

    L("Abrindo htmlOS em nova aba…");

    // AQUI É A MÁGICA:
    window.open(url, "_blank");

    L("\nSe nada aconteceu, habilite pop-ups para esta página.");

  }catch(e){
    L("ERRO: " + e.message);
  }

})();
</script>
</body>
</html>